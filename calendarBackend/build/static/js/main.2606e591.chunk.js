(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{214:function(e,t,a){e.exports=a(370)},242:function(e,t,a){},370:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),u=a.n(c),o=a(21),l=a(10),i=a(38),s=a(19),m=a(2),d=a.n(m),f=a(5),p=a(14),v=a.n(p),b="/api/ballrooms",E=null,h=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:E}},e.next=3,v.a.post(b,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(b,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(b,"/").concat(t,"/comments"),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),O={getAll:function(){return v.a.get(b).then(function(e){return e.data})},getById:y,create:h,setToken:function(e){E="bearer ".concat(e)},update:function(e){return v.a.put("".concat(b,"/").concat(e.id),e).then(function(e){return e.data})},remove:function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:E}},e.next=3,v.a.delete("".concat(b,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),deleteToken:function(){E=null},addComment:g},w=null,k=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:w}},e.next=3,v.a.post("/api/schools",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat("/api/schools","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat("/api/schools","/").concat(t,"/comments"),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),x={getAll:function(){return v.a.get("/api/schools").then(function(e){return e.data})},getById:j,create:k,setToken:function(e){w="bearer ".concat(e)},update:function(e){return v.a.put("".concat("/api/schools","/").concat(e.id),e).then(function(e){return e.data})},remove:function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:w}},e.next=3,v.a.delete("".concat("/api/schools","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),deleteToken:function(){w=null},addComment:N},C=null,S=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:C}},e.next=3,v.a.post("/api/videos",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat("/api/videos","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat("/api/videos","/").concat(t,"/comments"),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),_={getAll:function(){return v.a.get("/api/videos").then(function(e){return e.data})},getById:A,create:S,setToken:function(e){C="bearer ".concat(e)},update:function(e){return v.a.put("".concat("/api/videos","/").concat(e.id),e).then(function(e){return e.data})},remove:function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:C}},e.next=3,v.a.delete("".concat("/api/videos","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),deleteToken:function(){C=null},addComment:I},T=null,L=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:T}},e.next=3,v.a.post("/api/calendars",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat("/api/calendars","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat("/api/calendars","/").concat(t,"/comments"),a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),M={getAll:function(){return v.a.get("/api/calendars").then(function(e){return e.data})},getById:R,create:L,setToken:function(e){T="bearer ".concat(e)},update:function(e){return v.a.put("".concat("/api/calendars","/").concat(e.id),e).then(function(e){return e.data})},remove:function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:T}},e.next=3,v.a.delete("".concat("/api/calendars","/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),deleteToken:function(){T=null},addComment:D},U=(a(242),Object(l.b)(function(e){return{notification:e.notification}})(function(e){var t=e.notification,a=t.error?"false":"true";return r.a.createElement("div",{className:a},t.message)})),B=a(22),V=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1];return{type:e,value:r,onChange:function(e){c(e.target.value)},reset:function(){c("")}}},z={login:function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},J={getAll:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:null}},e.next=3,v.a.post("/api/users",t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(f.a)(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(t,a);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},F=function(e){return function(t){t({type:"LOGIN",data:e})}},P=function(e){return function(){var t=Object(f.a)(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.login(e);case 2:return n=t.sent,window.localStorage.setItem("loggedBallroomAppUser",JSON.stringify(n)),O.setToken(n.token),a({type:"LOGIN",data:n}),t.abrupt("return",n);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},H=function(){return function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getAll();case 2:a=e.sent,t({type:"INIT",data:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"CREATE_USER":return t.data;case"LOGOUT":return null;case"INIT":return t.data;default:return e}},G=function(e,t){return function(){var a=Object(f.a)(d.a.mark(function a(n){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n({type:"SET_NOTICE",data:e});case 2:t*=1e3,setTimeout(function(){n({type:"SET_EMPTY"})},t);case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTICE":return t.data;case"SET_EMPTY":return"";default:return e}},K=a(380),W=a(378),q=a(383),Q=a(371),X=a(66),$=a.n(X),ee={setMessage:G,loginUser:P,setUser:F},te=Object(l.b)(function(e){return{blogs:e.blogs,user:e.user,users:e.users}},ee)(Object(i.h)(function(e){var t=V("username"),a=V("password"),c=Object(n.useRef)(),u=Object(n.useRef)(),l=Object(n.useState)(!1),s=Object(o.a)(l,2),m=s[0],p=s[1],v=Object(i.g)();Object(n.useEffect)(function(){c.current.focus()},[]),Object(n.useEffect)(function(){var t=window.localStorage.getItem("loggedBallroomAppUser");if(t){var a=JSON.parse(t);e.setUser(a)}},[]);var b=function(){var n=Object(f.a)(d.a.mark(function n(r){var c,u;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),c={username:t.value,password:a.value},n.prev=2,n.next=5,z.login(c);case 5:u=n.sent,window.localStorage.setItem("loggedBallroomAppUser",JSON.stringify(u)),e.setUser(u),e.notify("login succeeded",!1),O.setToken(u.token),x.setToken(u.token),_.setToken(u.token),M.setToken(u.token),e.history.push("/home"),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(2),p(" username or password incorrect!"),e.notify("".concat(n.t0.response.data),!0);case 20:case"end":return n.stop()}},n,null,[[2,16]])}));return function(e){return n.apply(this,arguments)}}(),E=function(e){return e.reset,Object(B.a)(e,["reset"])};return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"ui middle aligned center aligned grid"},r.a.createElement("div",{className:"column"},r.a.createElement("h2",{className:"ui blue image header"},r.a.createElement("div",{className:"content"},r.a.createElement("i",null,"Dance Calendar App - Login"))),r.a.createElement(K.a,{className:"ui large form",onSubmit:b},r.a.createElement("div",{className:"ui stacked segment"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"user icon"}),r.a.createElement(W.a,Object.assign({ref:c,id:"username",type:"text","data-cy":"username"},E(t),{placeholder:"Username / E-mail address - (minlength 5)",onKeyDown:function(e){13===e.keyCode&&"username"===e.target.id&&u.current.focus()}})))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement(W.a,Object.assign({ref:u,id:"password",type:"password",name:"password","data-cy":"password"},E(a),{placeholder:"Password - (minlength 6)"})))),r.a.createElement("div",{className:"ui fluid large blue submit button"},r.a.createElement(q.a,{className:"ui fluid large blue submit button",type:"submit","data-cy":"login"},"login"),m)),r.a.createElement("div",{className:"ui error message"})),r.a.createElement("div",{className:"ui message"},r.a.createElement("span",null,"New to us?"," "),r.a.createElement(q.a,{"data-cy":"to-registerForm",className:"ui basic tiny button",type:"submit",onClick:function(){v.push("/register")}},"to Register Page")))),r.a.createElement("div",{className:"ui middle aligned center aligned grid"},r.a.createElement(Q.a,{src:$.a})))})),ae=Object(l.b)(null,{loginUser:P,setUser:F,setMessage:G})(Object(i.h)(function(e){var t=V("username"),a=V("password"),c=V("PASSWORD"),u=Object(n.useRef)(),l=Object(n.useRef)(),s=Object(n.useRef)(),m=Object(n.useState)(!1),p=Object(o.a)(m,2),v=p[0],b=p[1],E=Object(i.g)();Object(n.useEffect)(function(){u.current.focus()},[]),Object(n.useEffect)(function(){var t=window.localStorage.getItem("loggedBallroomAppUser");if(t){var a=JSON.parse(t);e.setUser(a)}},[]);var h=function(){var n=Object(f.a)(d.a.mark(function n(r){var u;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),a.value===c.value){n.next=6;break}return b(" please re-enter password!"),a.reset(),c.reset(),n.abrupt("return");case 6:return n.prev=6,u={username:t.value,name:t.value,password:a.value},n.next=10,J.post("/api/users",u);case 10:t.reset(),a.reset(),c.reset(),e.notify("user created [from registerForm]",!1),console.log("username created",t),e.history.push("/login"),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(6),b(" Username already taken OR invalid. Please try again!"),e.notify("".concat(n.t0.response.data),!0);case 22:case"end":return n.stop()}},n,null,[[6,18]])}));return function(e){return n.apply(this,arguments)}}(),y=function(e){return e.reset,Object(B.a)(e,["reset"])};return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"ui middle aligned center aligned grid"},r.a.createElement("div",{className:"column"},r.a.createElement("h2",{className:"ui blue image header"},r.a.createElement("div",{className:"content"},r.a.createElement("i",null,"Dance Calendar App - Register"))),r.a.createElement(K.a,{className:"ui large form",onSubmit:h},r.a.createElement("div",{className:"ui stacked segment"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"user icon"}),r.a.createElement(W.a,Object.assign({ref:u,id:"username",type:"text","data-cy":"username"},y(t),{placeholder:"Username / E-mail address - (minlength 5)",onKeyDown:function(e){13===e.keyCode&&("username"===e.target.id&&l.current.focus(),"password"===e.target.id&&s.current.focus())}})))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement(W.a,Object.assign({ref:l,id:"password",type:"password",name:"password","data-cy":"password"},y(a),{placeholder:"Password - (minlength 6)"})))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement(W.a,Object.assign({ref:s,id:"password",type:"password",name:"rPassword","data-cy":"rPassword"},y(c),{placeholder:"Password - (minlength 6)"})))),r.a.createElement("div",{className:"ui fluid large blue submit button"},r.a.createElement(q.a,{className:"ui fluid large blue submit button",type:"submit","data-cy":"register"},"register"),v)),r.a.createElement("div",{className:"ui error message"})),r.a.createElement("div",{className:"ui message"},r.a.createElement("span",null,"Allready a user?"," "),r.a.createElement(q.a,{"data-cy":"to-registerForm",className:"ui basic tiny button",type:"submit",onClick:function(){E.push("/login")}},"to Login Page")))),r.a.createElement("div",{className:"ui middle aligned center aligned grid"},r.a.createElement(Q.a,{src:$.a})))})),ne=a(35),re=function(e){return function(){var t=Object(f.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.remove(e.id);case 2:a({type:"REMOVE_BALLROOM",data:e.id});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_BALLROOMS":return t.data.ballrooms;case"CREATE_BALLROOM":return[].concat(Object(ne.a)(e),[t.data]);case"REMOVE_BALLROOM":return e.filter(function(e){return e.id!==t.data});case"ADD_BALLROOM_COMMENT":var a=JSON.parse(JSON.stringify(e)),n=a.find(function(e){return e.id===t.data.ballroom});return n.comments=n.comments.concat({comment:t.data.comment,id:t.data.id}),[].concat(Object(ne.a)(a.filter(function(e){return e.id!==n.id})),[n]);default:return e}},ue=function(e){return function(){var t=Object(f.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.remove(e.id);case 2:a({type:"REMOVE_SCHOOL",data:e.id});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_SCHOOLS":return t.data.schools;case"CREATE_SCHOOL":return[].concat(Object(ne.a)(e),[t.data]);case"REMOVE_SCHOOL":return e.filter(function(e){return e.id!==t.data});case"ADD_SCHOOL_COMMENT":var a=JSON.parse(JSON.stringify(e)),n=a.find(function(e){return e.id===t.data.school});return n.comments=n.comments.concat({comment:t.data.comment,id:t.data.id}),[].concat(Object(ne.a)(a.filter(function(e){return e.id!==n.id})),[n]);default:return e}},le=function(e){return function(){var t=Object(f.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.remove(e.id);case 2:a({type:"REMOVE_VIDEO",data:e.id});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_VIDEOS":return t.data.videos;case"CREATE_VIDEO":return[].concat(Object(ne.a)(e),[t.data]);case"REMOVE_VIDEO":return e.filter(function(e){return e.id!==t.data});case"ADD_VIDEO_COMMENT":var a=JSON.parse(JSON.stringify(e)),n=a.find(function(e){return e.id===t.data.video});return n.comments=n.comments.concat({comment:t.data.comment,id:t.data.id}),[].concat(Object(ne.a)(a.filter(function(e){return e.id!==n.id})),[n]);default:return e}},se=function(e){return function(){var t=Object(f.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.remove(e.id);case 2:a({type:"REMOVE_CALENDAR",data:e.id});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_CALENDARS":return t.data.calendars;case"CREATE_CALENDAR":return[].concat(Object(ne.a)(e),[t.data]);case"REMOVE_CALENDAR":return e.filter(function(e){return e.id!==t.data});case"ADD_CALENDAR_COMMENT":var a=JSON.parse(JSON.stringify(e)),n=a.find(function(e){return e.id===t.data.calendar});return n.comments=n.comments.concat({comment:t.data.comment,id:t.data.id}),[].concat(Object(ne.a)(a.filter(function(e){return e.id!==n.id})),[n]);default:return e}},de=r.a.forwardRef(function(e,t){var a=Object(n.useState)(!1),c=Object(o.a)(a,2),u=c[0],l=c[1],i={display:u?"none":""},s={display:u?"":"none"},m=function(){l(!u)};return Object(n.useImperativeHandle)(t,function(){return{toggleVisibility:m}}),r.a.createElement("div",null,r.a.createElement("div",{style:i},r.a.createElement(q.a,{"data-cy":"add",className:"ui basic tiny button",onClick:m},e.buttonLabel)),r.a.createElement("div",{style:s},e.children,r.a.createElement(q.a,{"data-cy":"cancel",className:"ui basic tiny button",onClick:m},"cancel")))}),fe={createBallroom:function(e){return function(){var t=Object(f.a)(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.create(e);case 2:n=t.sent,a({type:"CREATE_BALLROOM",data:n});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},pe=Object(l.b)(function(e){return{user:e.user,ballrooms:e.ballrooms,users:e.users}},fe)(function(e){var t=V("title"),a=V("url"),n=function(){var n=Object(f.a)(d.a.mark(function n(r){var c;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),c={title:t.value,author:e.user.name,url:a.value},n.prev=2,n.next=5,e.createBallroom(c);case 5:t.reset(),a.reset(),e.notify("a new ballroom '".concat(c.title,"' successfully added")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),e.notify("".concat(n.t0.response.data.error),!0);case 13:case"end":return n.stop()}},n,null,[[2,10]])}));return function(e){return n.apply(this,arguments)}}(),c=function(e){return e.reset,Object(B.a)(e,["reset"])};return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(de,{"data-cy":"togglable-add-ballroom",buttonLabel:"add"},r.a.createElement("div",null,r.a.createElement(K.a,{onSubmit:function(e){return n(e)}},r.a.createElement(K.a.Field,null,r.a.createElement("label",null,"title"),r.a.createElement(W.a,Object.assign({"data-cy":"ballroom-title",type:"text"},c(t)))),r.a.createElement(K.a.Field,null,r.a.createElement("label",null,"url"),r.a.createElement(W.a,Object.assign({"data-cy":"ballroom-url",type:"url"},c(a)))),r.a.createElement(q.a,{"data-cy":"togglable-add-ballroom",className:"ui basic tiny button",type:"submit"},"add")))))}),ve=Object(l.b)(function(e){return{ballrooms:e.ballrooms,user:e.user,users:e.users}},{setUser:F})(function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],u=a[1];Object(n.useEffect)(function(){var e=window.localStorage.getItem("loggedBallroomAppUser");if(e){var t=JSON.parse(e);u(t)}},[]);var l=e.ballrooms.filter(function(e){return e.author===c.username});return r.a.createElement("div",null," ",r.a.createElement(pe,{notify:e.notify}),r.a.createElement("br",null),l.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(s.b,{id:"ballroomsList",to:"/ballrooms/".concat(e.id)},e.title))}))}),be={createSchool:function(e){return function(){var t=Object(f.a)(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.create(e);case 2:n=t.sent,a({type:"CREATE_SCHOOL",data:n});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},Ee=Object(l.b)(function(e){return{user:e.user,school:e.school,users:e.users}},be)(function(e){var t=V("title"),a=V("url"),n=function(){var n=Object(f.a)(d.a.mark(function n(r){var c;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),c={title:t.value,author:e.user.name,url:a.value},n.prev=2,n.next=5,e.createSchool(c);case 5:t.reset(),a.reset(),e.notify("a new danceschool '".concat(c.title,"' successfully added")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),e.notify("".concat(n.t0.response.data.error),!0);case 13:case"end":return n.stop()}},n,null,[[2,10]])}));return function(e){return n.apply(this,arguments)}}(),c=function(e){return e.reset,Object(B.a)(e,["reset"])};return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(de,{buttonLabel:"add"},r.a.createElement("div",null,r.a.createElement(K.a,{onSubmit:function(e){return n(e)}},r.a.createElement(K.a.Field,null,r.a.createElement("label",null,"title"),r.a.createElement(W.a,Object.assign({id:"title","data-cy":"title",type:"text"},c(t)))),r.a.createElement(K.a.Field,null,r.a.createElement("label",null,"url"),r.a.createElement(W.a,Object.assign({id:"url","data-cy":"url",type:"url"},c(a)))),r.a.createElement(q.a,{className:"ui basic tiny button",type:"submit","data-cy":"Add"},"add")))))}),he=Object(l.b)(function(e){return{schools:e.schools,user:e.user,users:e.users}},{setUser:F})(function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],u=a[1];Object(n.useEffect)(function(){var e=window.localStorage.getItem("loggedBallroomAppUser");if(e){var t=JSON.parse(e);u(t)}},[]);var l=e.schools.filter(function(e){return e.author===c.username});return r.a.createElement("div",null," ",r.a.createElement(Ee,{notify:e.notify}),r.a.createElement("br",null),l.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(s.b,{id:"schoolsList",to:"/schools/".concat(e.id)},e.title))}))}),ye={createVideo:function(e){return function(){var t=Object(f.a)(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.create(e);case 2:n=t.sent,a({type:"CREATE_VIDEO",data:n});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},ge=Object(l.b)(function(e){return{user:e.user,video:e.video,users:e.users}},ye)(function(e){var t=V("title"),a=V("url"),n=function(){var n=Object(f.a)(d.a.mark(function n(r){var c;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),c={title:t.value,author:e.user.name,url:a.value},n.prev=2,n.next=5,e.createVideo(c);case 5:t.reset(),a.reset(),e.notify("a new dancevideo '".concat(c.title,"' successfully added")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),e.notify("".concat(n.t0.response.data.error),!0);case 13:case"end":return n.stop()}},n,null,[[2,10]])}));return function(e){return n.apply(this,arguments)}}(),c=function(e){return e.reset,Object(B.a)(e,["reset"])};return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(de,{buttonLabel:"add"},r.a.createElement("div",null,r.a.createElement(K.a,{onSubmit:function(e){return n(e)}},r.a.createElement(K.a.Field,null,r.a.createElement("label",null,"title"),r.a.createElement(W.a,Object.assign({id:"title","data-cy":"title",type:"text"},c(t)))),r.a.createElement(K.a.Field,null,r.a.createElement("label",null,"url"),r.a.createElement(W.a,Object.assign({id:"url","data-cy":"url",type:"url"},c(a)))),r.a.createElement(q.a,{className:"ui basic tiny button",type:"submit","data-cy":"Add"},"add")))))}),Oe=Object(l.b)(function(e){return{videos:e.videos,user:e.user,users:e.users}},{setUser:F})(function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],u=a[1];Object(n.useEffect)(function(){var e=window.localStorage.getItem("loggedBallroomAppUser");if(e){var t=JSON.parse(e);u(t)}},[]);var l=e.videos.filter(function(e){return e.author===c.username});return r.a.createElement("div",null," ",r.a.createElement(ge,{notify:e.notify}),r.a.createElement("br",null),l.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(s.b,{id:"videosList",to:"/videos/".concat(e.id)},e.title))}))}),we=a(198),ke=a.n(we),je=(a(177),a(178),{createCalendar:function(e){return function(){var t=Object(f.a)(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.create(e);case 2:n=t.sent,a({type:"CREATE_CALENDAR",data:n});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}),Ne=Object(l.b)(function(e){return{user:e.user,calendar:e.calendar,users:e.users}},je)(function(e){var t=V("title"),a=V("url"),c=Object(n.useState)("date"),u=Object(o.a)(c,2),l=u[0],i=u[1],s=function(){var n=Object(f.a)(d.a.mark(function n(r){var c;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),c={title:t.value,author:e.user.name,url:a.value,date:l},n.prev=2,n.next=5,e.createCalendar(c);case 5:t.reset(),a.reset(),e.notify("a new dancecalendar '".concat(c.title,"' successfully added")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),e.notify("".concat(n.t0.response.data.error),!0);case 13:case"end":return n.stop()}},n,null,[[2,10]])}));return function(e){return n.apply(this,arguments)}}(),m=function(e){return e.reset,Object(B.a)(e,["reset"])};return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(de,{"data-cy":"togglable-add-calendarMark",buttonLabel:"add"},r.a.createElement("div",null,r.a.createElement(K.a,{onSubmit:function(e){return s(e)}},r.a.createElement(K.a.Field,null,r.a.createElement("label",null,"title"),r.a.createElement(W.a,Object.assign({"data-cy":"calendar-title",type:"text"},m(t)))),r.a.createElement(K.a.Field,null,r.a.createElement("label",null,"url"),r.a.createElement(W.a,Object.assign({"data-cy":"calendar-url",type:"url"},m(a)))),r.a.createElement(K.a.Field,null,r.a.createElement("label",null,"Please give date:"),r.a.createElement(ke.a,{"data-cy":"date-input",onDayChange:function(e){return i(e)}})),r.a.createElement(q.a,{"data-cy":"togglable-add-calendar",className:"ui basic tiny button",type:"submit"},"add")))))}),xe=Object(l.b)(function(e){return{calendars:e.calendars,user:e.user,users:e.users}},{setUser:F})(function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],u=a[1];Object(n.useEffect)(function(){var e=window.localStorage.getItem("loggedBallroomAppUser");if(e){var t=JSON.parse(e);u(t)}},[]);var l=e.calendars.filter(function(e){return e.author===c.username});return r.a.createElement("div",null," ",r.a.createElement(Ne,{notify:e.notify}),r.a.createElement("br",null),l.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(s.b,{id:"calendarsList",to:"/calendars/".concat(e.id)},e.title))}))}),Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return t.data;default:return e}},Se=a(384),Ae=a(382),Ie=Object(l.b)(function(e){return{users:e.users}},{initializeUsers:function(){return function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getAll();case 2:a=e.sent,t({type:"INIT_USERS",data:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(function(e){Object(n.useEffect)(function(){e.initializeUsers()},[]);var t=e.users.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement(s.b,{to:"".concat(e.path,"/").concat(t.id)},t.name)),r.a.createElement("td",null,t.ballrooms.length))});return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(Se.a,null,"Users "),r.a.createElement(Ae.a,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"ballrooms created")),t)))}),_e=Object(l.b)()(function(e){return void 0===e.user?null:r.a.createElement("div",null,r.a.createElement("h2",null,e.user.name),r.a.createElement("h4",null,"added ballrooms:"),r.a.createElement("ul",null,e.user.ballrooms.map(function(e){return r.a.createElement("li",{key:e.id},e.title)})))}),Te={addComment:function(e,t){var a={comment:t};return function(){var t=Object(f.a)(d.a.mark(function t(n){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.addComment(e,a);case 2:r=t.sent,n({type:"ADD_CALENDAR_COMMENT",data:r});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},Le=Object(l.b)(null,Te)(function(e){if(void 0===e.calendar.comments)return null;var t=V("comment"),a=function(){var a=Object(f.a)(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.addComment(e.calendar.id,t.value);case 2:t.reset();case 3:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}(),n=e.calendar.comments.map(function(e){return r.a.createElement("li",{key:e.id},e.comment)});return r.a.createElement("div",null,r.a.createElement("h3",null,"comments"),r.a.createElement(W.a,Object.assign({id:"commentInput"},(c=t,c.reset,Object(B.a)(c,["reset"])))),r.a.createElement(q.a,{className:"ui basic tiny button",id:"addComment",onClick:a},"add comment"),r.a.createElement("ul",null,n));var c}),Re=a(199),De=a.n(Re),Me={removeCalendar:se},Ue=Object(l.b)(function(e){return{user:e.user,calendars:e.calendars,users:e.users}},Me)(function(e){var t=e.calendar,a=e.notify,n=e.removeCalendar,c=Object(i.g)();if(void 0===t)return null;var u=function(){var e=Object(f.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("remove calendar ".concat(t.title,"? by ").concat(t.author))){e.next=5;break}return e.next=3,n(t);case 3:a("calendar '".concat(t.title,"' removed succesfully"),!1),c.push("/calendars");case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),o=new Date(t.date),l={highlighted:o};return r.a.createElement("div",null,r.a.createElement("div",{className:"toggle"},t.title,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.url," "),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("style",null,".DayPicker-Day--highlighted {\n    background-color: blue;\n    color: white;\n  }"),r.a.createElement(De.a,{modifiers:l,month:o}))),r.a.createElement(Le,{calendar:t}),r.a.createElement("br",null)," ",r.a.createElement(q.a,{className:"ui basic tiny button",onClick:u},"remove"))}),Be=function(){var e={position:"absolute",left:0,top:0,fontSize:23,color:"white"},t=["Here you can save and comment your favourite ballrooms","Look, save and comment danceschools","Look, save and comment videolinks","Make calendar notes","Under links page you find some useful shortcut buttons"].map(function(e){return r.a.createElement("li",{key:e},e)});return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("img",{style:e,src:$.a,alt:"tango",width:"900px",height:"700px"}),r.a.createElement("ul",{style:e},t))},Ve=a(180),ze=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,r.a.createElement("em",null,"Dance Calendar")),r.a.createElement("p",null,r.a.createElement("em",null,"Here are some links to help you contact your frieds and search the web!")),r.a.createElement("hr",null),r.a.createElement("div",{className:"ui circular google icon mini button"},r.a.createElement("a",{id:"link",href:"http://www.google.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ve.a,{className:"google icon"}))),r.a.createElement("div",{className:"ui circular youtube icon mini button"},r.a.createElement("a",{id:"link",href:"http://www.youtube.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ve.a,{className:"youtube icon"}))),r.a.createElement("div",{className:"ui circular facebook icon mini button"},r.a.createElement("a",{id:"link",href:"http://www.facebook.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ve.a,{className:"facebook icon"}))),r.a.createElement("div",{className:"ui circular twitter icon mini button"},r.a.createElement("a",{id:"link",href:"http://www.twitter.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ve.a,{className:"twitter icon"}))),r.a.createElement("div",{className:"ui circular gmail icon mini button"},r.a.createElement("a",{id:"link",href:"http://www.gmail.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ve.a,{className:"envelope outline icon"}))),r.a.createElement("div",{className:"ui circular whatsapp icon green mini button"},r.a.createElement("a",{id:"link",href:"http://www.whatsapp.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ve.a,{className:"whatsapp icon"}))),r.a.createElement("div",{className:"ui circular linkedin icon mini button"},r.a.createElement(Ve.a,{className:"linkedin icon"}),r.a.createElement("a",{id:"link",href:"http://www.linkedin.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ve.a,{className:"linkedin icon"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("em",null,"Following links to finnish websites")),r.a.createElement(q.a,{className:"ui primary basic button"},r.a.createElement("a",{id:"link",href:"http://www.tanssi.net",target:"_blank",rel:"noopener noreferrer"},"Suomen tanssipalvelin")),r.a.createElement(q.a,{className:"ui primary basic button"},r.a.createElement("a",{id:"link",href:"http://tanssi.net/fi/tausta/sanasto.html",target:"_blank",rel:"noopener noreferrer"},"tanssisanasto")),r.a.createElement(q.a,{className:"ui primary basic button"},r.a.createElement("a",{id:"link",href:"http://viiri.net/tanssmus/",target:"_blank",rel:"noopener noreferrer"},"musiikkitietosivusto")))},Je={addComment:function(e,t){var a={comment:t};return function(){var t=Object(f.a)(d.a.mark(function t(n){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.addComment(e,a);case 2:r=t.sent,n({type:"ADD_BALLROOM_COMMENT",data:r});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},Fe=Object(l.b)(null,Je)(function(e){if(void 0===e.ballroom.comments)return null;var t=V("comment"),a=function(){var a=Object(f.a)(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.addComment(e.ballroom.id,t.value);case 2:t.reset();case 3:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}(),n=e.ballroom.comments.map(function(e){return r.a.createElement("li",{key:e.id},e.comment)});return r.a.createElement("div",null,r.a.createElement("h3",null,"comments"),r.a.createElement(W.a,Object.assign({id:"commentInput"},(c=t,c.reset,Object(B.a)(c,["reset"])))),r.a.createElement(q.a,{className:"ui basic tiny button",id:"addComment",onClick:a},"add comment"),r.a.createElement("ul",null,n));var c}),Pe={removeBallroom:re},He=Object(l.b)(function(e){return{user:e.user,ballrooms:e.ballrooms,users:e.users}},Pe)(function(e){var t=e.ballroom,a=e.notify,n=e.removeBallroom,c=Object(i.g)();if(void 0===t)return null;var u=function(){var e=Object(f.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("remove ballroom ".concat(t.title,"? by ").concat(t.author))){e.next=5;break}return e.next=3,n(t);case 3:a("ballroom '".concat(t.title,"' removed succesfully"),!1),c.push("/ballrooms");case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"toggle"},t.title,r.a.createElement("br",null),r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.url," "),r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement(q.a,{className:"ui basic tiny button",onClick:u},"remove")),r.a.createElement(Fe,{ballroom:t}))}),Ze={addComment:function(e,t){var a={comment:t};return function(){var t=Object(f.a)(d.a.mark(function t(n){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.addComment(e,a);case 2:r=t.sent,n({type:"ADD_SCHOOL_COMMENT",data:r});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},Ge=Object(l.b)(null,Ze)(function(e){if(void 0===e.school.comments)return null;var t=V("comment"),a=function(){var a=Object(f.a)(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.addComment(e.school.id,t.value);case 2:t.reset();case 3:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}(),n=e.school.comments.map(function(e){return r.a.createElement("li",{key:e.id},e.comment)});return r.a.createElement("div",null,r.a.createElement("h3",null,"comments"),r.a.createElement(W.a,Object.assign({id:"commentInput"},(c=t,c.reset,Object(B.a)(c,["reset"])))),r.a.createElement(q.a,{className:"ui basic tiny button",id:"addComment",onClick:a},"add comment"),r.a.createElement("ul",null,n));var c}),Ye={removeSchool:ue},Ke=Object(l.b)(function(e){return{user:e.user,schools:e.schools,users:e.users}},Ye)(function(e){var t=e.school,a=e.notify,n=e.removeSchool,c=Object(i.g)();if(void 0===t)return null;var u=function(){var e=Object(f.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("remove school ".concat(t.title,"? by ").concat(t.author))){e.next=5;break}return e.next=3,n(t);case 3:a("school '".concat(t.title,"' removed succesfully"),!1),c.push("/schools");case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"toggle"},t.title,r.a.createElement("br",null),r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.url," "),r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement(q.a,{className:"ui basic tiny button",onClick:u},"remove")),r.a.createElement(Ge,{school:t}))}),We={addComment:function(e,t){var a={comment:t};return function(){var t=Object(f.a)(d.a.mark(function t(n){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.addComment(e,a);case 2:r=t.sent,n({type:"ADD_VIDEO_COMMENT",data:r});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},qe=Object(l.b)(null,We)(function(e){if(void 0===e.video.comments)return null;var t=V("comment"),a=function(){var a=Object(f.a)(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.addComment(e.video.id,t.value);case 2:t.reset();case 3:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}(),n=e.video.comments.map(function(e){return r.a.createElement("li",{key:e.id},e.comment)});return r.a.createElement("div",null,r.a.createElement("h3",null,"comments"),r.a.createElement(W.a,Object.assign({id:"commentInput"},(c=t,c.reset,Object(B.a)(c,["reset"])))),r.a.createElement(q.a,{className:"ui basic tiny button",id:"addComment",onClick:a},"add comment"),r.a.createElement("ul",null,n));var c}),Qe={removeVideo:le},Xe=Object(l.b)(function(e){return{user:e.user,videos:e.videos,users:e.users}},Qe)(function(e){var t=e.video,a=e.notify,n=e.removeVideo,c=Object(i.g)();if(void 0===t)return null;var u=function(){var e=Object(f.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("remove video ".concat(t.title,"? by ").concat(t.author))){e.next=5;break}return e.next=3,n(t);case 3:a("video '".concat(t.title,"' removed succesfully"),!1),c.push("/videos");case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"toggle"},t.title,r.a.createElement("br",null),r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.url," "),r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement(q.a,{className:"ui basic tiny button",onClick:u},"remove")),r.a.createElement(qe,{video:t}))}),$e=a(379),et=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"404: Page not found"))};var tt={initializeBallrooms:function(){return function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getAll();case 2:a=e.sent,t({type:"INITIALIZE_BALLROOMS",data:{ballrooms:a}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},initializeSchools:function(){return function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getAll();case 2:a=e.sent,t({type:"INITIALIZE_SCHOOLS",data:{schools:a}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},initializeVideos:function(){return function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.getAll();case 2:a=e.sent,t({type:"INITIALIZE_VIDEOS",data:{videos:a}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},initializeCalendars:function(){return function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getAll();case 2:a=e.sent,t({type:"INITIALIZE_CALENDARS",data:{calendars:a}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},initializeUsers:H,removeBallroom:re,removeSchool:ue,removeVideo:le,removeCalendar:se,setMessage:G,setUser:F,logoutUser:function(){return function(){var e=Object(f.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.deleteToken();case 2:window.localStorage.removeItem("loggedBallroomAppUser"),t({type:"LOGOUT"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},at=Object(i.h)(Object(l.b)(function(e){return{ballrooms:e.ballrooms,schools:e.schools,videos:e.videos,calendars:e.calendars,user:e.user,users:e.users}},tt)(function(e){var t=e.user,a=e.users,c=e.initializeBallrooms,u=e.initializeSchools,l=e.initializeVideos,m=e.initializeCalendars,d=e.setMessage,f=e.setUser,p=e.logoutUser,v=e.ballrooms,b=e.videos,E=e.calendars,h=e.schools;Object(n.useEffect)(function(){c(),u(),l(),m()},[]),Object(n.useEffect)(function(){H()},[]);var y=Object(n.useState)(!1),g=Object(o.a)(y,2),w=g[0],k=g[1],j=Object(i.g)();Object(n.useEffect)(function(){var e=window.localStorage.getItem("loggedBallroomAppUser");if(e){var t=JSON.parse(e);f(t),N(t)}else k(!0),C()},[]),Object(n.useEffect)(function(){t||j.push("/login")},[t]),Object(n.useEffect)(function(){t&&j.push("/ballrooms")},[t]);var N=function(e){O.setToken(e.token),x.setToken(e.token),_.setToken(e.token),M.setToken(e.token)},C=function(){if(w)return r.a.createElement(i.a,{to:"/login"})},S=function(e,t){d({message:e,error:t},4)};return null===t?r.a.createElement($e.a,null,r.a.createElement("div",null,r.a.createElement(i.b,{path:"/login",render:function(){return r.a.createElement(te,{notify:S})}}),r.a.createElement(i.b,{path:"/register",render:function(){return r.a.createElement(ae,{notify:S})}}))):r.a.createElement($e.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:"ui vertical fluid menu"},r.a.createElement(s.c,{to:"/home","data-cy":"home",className:"Nav_link",activeClassName:"activeRoute",activeStyle:{color:"red"}}," about","  "," "),r.a.createElement(s.c,{to:"/links","data-cy":"links",className:"Nav_link",activeClassName:"activeRoute",activeStyle:{color:"red"}}," links","  "," "),r.a.createElement(s.c,{to:"/ballrooms","data-cy":"ballrooms",className:"Nav_link",activeClassName:"activeRoute",activeStyle:{color:"red"}}," ballrooms","  "," "),r.a.createElement(s.c,{to:"/schools","data-cy":"schools",className:"Nav_link",activeClassName:"activeRoute",activeStyle:{color:"red"}}," schools","  "," "),r.a.createElement(s.c,{to:"/videos","data-cy":"vidoes",className:"Nav_link",activeClassName:"activeRoute",activeStyle:{color:"red"}}," videos","  "," "),r.a.createElement(s.c,{to:"/calendars","data-cy":"calendars",className:"Nav_link",activeClassName:"activeRoute",activeStyle:{color:"red"}}," calendars","  "," ")," <",t.username,"> logged in "," - ","Date: ",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",t=new Date,a=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return"".concat(r).concat(e).concat(n<10?"0".concat(n):"".concat(n)).concat(e).concat(a)}()," - ",r.a.createElement("button",{className:"ui mini button","data-cy":"logout",onClick:function(){window.localStorage.removeItem("loggedBallroomAppUser"),S("".concat(t.username," successfully logged out"),!1),f(null),p(),k(!0)}},"logout")),r.a.createElement(U,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/ballrooms",render:function(){return r.a.createElement(ve,{notify:S})}}),r.a.createElement(i.b,{exact:!0,path:"/schools",render:function(){return r.a.createElement(he,{notify:S})}}),r.a.createElement(i.b,{exact:!0,path:"/videos",render:function(){return r.a.createElement(Oe,{notify:S})}}),r.a.createElement(i.b,{exact:!0,path:"/calendars",render:function(){return r.a.createElement(xe,{notify:S})}}),r.a.createElement(i.b,{exact:!0,path:"/users",render:function(e){var t=e.match;return r.a.createElement(Ie,{path:t.path})}}),r.a.createElement(i.b,{exact:!0,path:"/users/:id",render:function(e){var t,n=e.match;return r.a.createElement(_e,{user:(t=n.params.id,a.find(function(e){return e.id===t}))})}}),r.a.createElement(i.b,{exact:!0,path:"/calendar",render:function(e){var t=e.match;return r.a.createElement(Ue,{path:t.path})}}),r.a.createElement(i.b,{exact:!0,path:"/home",render:function(e){var t=e.match;return r.a.createElement(Be,{path:t.path})}}),r.a.createElement(i.b,{exact:!0,path:"/links",render:function(e){var t=e.match;return r.a.createElement(ze,{path:t.path})}}),r.a.createElement(i.b,{exact:!0,path:"/ballrooms/:id",render:function(e){var t,a=e.match;return r.a.createElement(He,{notify:S,ballroom:(t=a.params.id,v.find(function(e){return e.id===t}))})}}),r.a.createElement(i.b,{exact:!0,path:"/schools/:id",render:function(e){var t,a=e.match;return r.a.createElement(Ke,{notify:S,school:(t=a.params.id,h.find(function(e){return e.id===t}))})}}),r.a.createElement(i.b,{exact:!0,path:"/videos/:id",render:function(e){var t,a=e.match;return r.a.createElement(Xe,{notify:S,video:(t=a.params.id,b.find(function(e){return e.id===t}))})}}),r.a.createElement(i.b,{exact:!0,path:"/calendars/:id",render:function(e){var t,a=e.match;return r.a.createElement(Ue,{notify:S,calendar:(t=a.params.id,E.find(function(e){return e.id===t}))})}}),r.a.createElement(i.b,{component:et}))))})),nt=a(57),rt=a(200),ct=a(201),ut=Object(nt.combineReducers)({notification:Y,ballrooms:ce,schools:oe,videos:ie,calendars:me,user:Z,users:Ce}),ot=Object(nt.createStore)(ut,Object(ct.composeWithDevTools)(Object(nt.applyMiddleware)(rt.a))),lt=function(){u.a.render(r.a.createElement(l.a,{store:ot},r.a.createElement(s.a,null,r.a.createElement(at,null))),document.getElementById("root"))};lt(),ot.subscribe(lt)},66:function(e,t,a){e.exports=a.p+"static/media/argentine-tango_primary.70ea742f.jpg"}},[[214,2,1]]]);
//# sourceMappingURL=main.2606e591.chunk.js.map